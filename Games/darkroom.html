<html ng-app="DarkRoom">

<head>
  <title>DarkRoom</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <style>
    #console {
      float: left;
      padding: 1em;
    }

    #places {
      padding: 1em;
    }

    #inventory {
      float: right;
      padding: 1em;
    }

    a::after {
      content: " |";
    }
  </style>
</head>

<body>

  <div id="console"></div>

  <div id="places">
    <a ng-show="true">A Deteriorating Shed</a>
    <a ng-show="true">A Small Island</a>
    <a ng-show="false">A ?</a>
    <a ng-show="false">A ?</a>
  </div>
  <div id="buttons" ng-controller="actionController as ctrl">

    <div class="button container" ng-repeat="button in ctrl.buttons">
      <button ng-show="button.show" id='{{button.id}}'>{{button.name}}</button>
    </div>
    <input ng-model="ctrl.buttons[7].show" type="checkbox" />

  </div>



  <div id="inventory"></div>

  <script>
    var printer = document.getElementById('console');

    var app = angular.module('DarkRoom', []);
    app.controller('actionController', function($scope) {
      this.buttons = actions;
      $(document).ready(function() {
        var w = $("#wakeUp");
        w.on("click", function() {
          console.log("clicked");
          $scope.$apply(actions[7].show = true);
        });
      });
    });

    actions = [{
      name: "wake up",
      timer: 10,
      show: true,
      id: "wakeUp"
    }, {
      name: 'look at book',
      timer: 0,
      show: false,
      id: "lookAtBook"
    }, {
      name: 'go outside',
      timer: 0,
      show: false,
      id: "goOutside"
    }, {
      name: 'go inside',
      timer: 0,
      show: false,
      id: "goInside"
    }, {
      name: 'use hammer',
      timer: 0,
      show: false,
      id: "useHammer"
    }, {
      name: 'use chisel',
      timer: 0,
      show: false,
      id: "useChisel"
    }, {
      name: 'use wood',
      timer: 0,
      show: false,
      id: "useWood"
    }, {
      name: 'look around',
      timer: 0,
      show: false,
      id: "lookAround"
    }];

    function t(text) {
      printer.innerHTML += "<p>" + text + "</p>";
    }
    t("You are asleep");
  </script>
</body>

</html>
